<div ngClass="border-bottom-light background-secondary">
    <div ngClass="width-wrap">
        <app-navigation>
            <ng-container left>
                <div ngClass="icon_box medium">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19.4632 9.15598L22.0465 9.1305L22.1356 18.1717L19.5524 18.1972L19.4632 9.15598ZM14.2968 9.20694L16.88 9.18146L17.0074 22.0975L14.4242 22.123L14.2968 9.20694ZM9.13042 9.2579L11.7136 9.23242L11.7646 14.3988L9.18138 14.4243L9.13042 9.2579ZM6.52173 6.70017L24.6042 6.52181L24.7825 24.6043L6.70009 24.7826L6.52045 6.57101M6.72557 27.3658L24.808 27.1875C26.2288 27.1735 27.3798 25.9995 27.3658 24.5788L27.1874 6.49633C27.1734 5.07556 25.9995 3.92458 24.5787 3.9386L6.49625 4.11696C5.07548 4.13098 3.9245 5.30489 3.93852 6.72565L4.11689 24.8081C4.1309 26.2289 5.30481 27.3798 6.72557 27.3658Z" fill="black"/>
                    </svg>
                </div>
                <p *ngIf="!error" ngClass="board_title bold medium">
                    <ng-container *ngIf="board">{{board.title}}</ng-container>
                    <ng-template #titleLoading>Loading...</ng-template>
                </p>
                <p *ngIf="error" ngClass="board_title bold medium">{{error.status}}: {{error.statusText}}</p>
            </ng-container>
            <ng-container right>
                <div ngClass="relative">
                    <div
                        (click)="menuOpen = !menuOpen"
                        ngClass="icon_box medium cursor-pointer hover-highlight round-borders-small">
                        <svg width="24" height="29" viewBox="0 0 24 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 19C12.5304 19 13.0391 19.2107 13.4142 19.5858C13.7893 19.9609 14 20.4696 14 21C14 21.5304 13.7893 22.0391 13.4142 22.4142C13.0391 22.7893 12.5304 23 12 23C11.4696 23 10.9609 22.7893 10.5858 22.4142C10.2107 22.0391 10 21.5304 10 21C10 20.4696 10.2107 19.9609 10.5858 19.5858C10.9609 19.2107 11.4696 19 12 19ZM12 13C12.5304 13 13.0391 13.2107 13.4142 13.5858C13.7893 13.9609 14 14.4696 14 15C14 15.5304 13.7893 16.0391 13.4142 16.4142C13.0391 16.7893 12.5304 17 12 17C11.4696 17 10.9609 16.7893 10.5858 16.4142C10.2107 16.0391 10 15.5304 10 15C10 14.4696 10.2107 13.9609 10.5858 13.5858C10.9609 13.2107 11.4696 13 12 13ZM12 7C12.5304 7 13.0391 7.21071 13.4142 7.58579C13.7893 7.96086 14 8.46957 14 9C14 9.53043 13.7893 10.0391 13.4142 10.4142C13.0391 10.7893 12.5304 11 12 11C11.4696 11 10.9609 10.7893 10.5858 10.4142C10.2107 10.0391 10 9.53043 10 9C10 8.46957 10.2107 7.96086 10.5858 7.58579C10.9609 7.21071 11.4696 7 12 7Z" fill="black"/>
                        </svg>
                    </div>
                    <modal-menu
                        *ngIf="menuOpen"
                        [absolute]="true" [position]="{ top: '3em', right: '0' }">
                        <ul *ngIf="board; else menuLoading" ngClass="menu-items">
                            <li 
                                (click)="id && deleteBoard(id)"
                                ngClass="menu-item padding-1 cursor-pointer hover-highlight">
                                <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M5.25 16.625C5.25 17.0891 5.43437 17.5342 5.76256 17.8624C6.09075 18.1906 6.53587 18.375 7 18.375H14C14.4641 18.375 14.9092 18.1906 15.2374 17.8624C15.5656 17.5342 15.75 17.0891 15.75 16.625V6.125H5.25V16.625ZM7 7.875H14V16.625H7V7.875ZM13.5625 3.5L12.6875 2.625H8.3125L7.4375 3.5H4.375V5.25H16.625V3.5H13.5625Z" fill="black"/>
                                </svg>
                                <p ngClass="bold">Delete Board</p>
                            </li>
                        </ul>
                        <ng-template #menuLoading>
                            <li ngClass="menu-item padding-1">Loading ...</li>
                        </ng-template>
                    </modal-menu>
                </div>
            </ng-container>
        </app-navigation>
    </div>
</div>

<div ngClass="mobile background-secondary">
    <div ngClass="width-wrap">
        <app-tabs [tabs]="allStatus" [active]="active"></app-tabs>
    </div>
</div>

<div class="width-wrap padding-block-1">
    <div *ngIf="error; else NoErrors">
        <details *ngIf="error">
            <summary> {{error.statusText}} <a routerLink="/dashboard">Go Back</a> </summary>
            <p>{{error.message}}</p>
        </details>
    </div>
    <ng-template #NoErrors>
        <div ngClass="non-mobile lists_main" *ngIf="board; else boardLoading">
            <ng-container *ngFor="let status of allStatus">
                <list-column [status]="status">
                    <ul ngClass="no-default">
                    </ul>
                </list-column>
            </ng-container>
        </div>
        <div ngClass="mobile">
            <div ngClass="lists_main" *ngIf="board; else boardLoading">
                <list-column [status]="allStatus[active]"></list-column>
            </div>
        </div>
        <ng-template #boardLoading>Loading...</ng-template>
    </ng-template>
</div>